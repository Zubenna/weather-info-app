(()=>{"use strict";const e=document.querySelector("#enter-city"),t=document.querySelector("#submit-city"),n=document.querySelector("#set-icon"),r=document.querySelector("#wait-msg"),o=document.querySelector(".error-info"),i=document.querySelector(".c-flag"),c=document.querySelector("#temp-display"),u=document.querySelector("#temp-symbol"),l=document.querySelector("#toggle-temp"),d=(document.querySelector("#disp-time"),document.querySelector(".clock")),s=document.querySelector("#city"),a=document.querySelector("#country"),m=document.querySelector("#feels"),y=document.querySelector("#description"),p=document.querySelector("#humidity"),T=document.querySelector("#sun-rise"),x=document.querySelector("#sun-set"),S=document.querySelector("#wind-speed");let g="",q=!1;async function f(t){r.innerText="Loading.....";try{const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=4c726c2ad8e25995fa54253e43f9b966`,{mode:"cors"}),M=await e.json();r.innerText="";const{icon:k}=M.weather[0];n.innerHTML=`<img src="./icons/${k}.png">`,v=M.sys.country,i.innerHTML=`<img src="https://www.countryflags.io/${v}/flat/64.png">`,g=Math.floor(M.main.temp-273),c.innerText=`${g}째`,u.innerText="C",o.innerText="",l.style.display="block",((e,t)=>{s.innerText=`${e}, `,a.innerText=t})(M.name,M.sys.country),d=Math.floor(M.main.feels_like-273),q=M.weather[0].description,f=M.main.humidity,m.innerText=`Feels Like: ${d}째C`,y.innerText=` ${q}`,p.innerText=` Humidity: ${f}%`,$=M.coord.lon,w=M.coord.lat,L=M.wind.speed,T.innerText=`Lon: ${$}`,x.innerText=`Lat: ${w}`,S.innerText=`Wind Speed: ${L}M/s`,setInterval((()=>{h()}),500)}catch(t){""===e.value&&(o.innerText="Nothing to display, Enter city name")}var d,q,f,$,w,L,v}const h=()=>{let e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();d.innerText=`Local Time: ${t}`};document.addEventListener("DOMContentLoaded",(()=>{f("Lagos")})),t.addEventListener("click",(t=>{t.preventDefault(t),f(e.value),e.value=""})),l.addEventListener("click",(e=>{e.preventDefault(e),(()=>{q=!q;const e=c.innerText;let t=Number(e.slice(0,e.length-1));if(q){let e=(9*t/5+32).toFixed(2);c.innerText=`${e}째`,u.innerText="F",l.innerText="See temp in C"}else{let e=(5*(t-32)/9).toFixed(2);c.innerText=`${e}째`,u.innerText="C",l.innerText="See temp in F"}})()}))})();