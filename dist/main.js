(()=>{"use strict";const e=document.querySelector("#enter-city"),t=document.querySelector("#submit-city"),n=document.querySelector("#set-icon"),r=document.querySelector("#wait-msg"),o=document.querySelector(".error-info"),c=document.querySelector(".c-flag"),i=document.querySelector("#temp-display"),u=document.querySelector("#temp-symbol"),d=document.querySelector("#toggle-temp"),l=(document.querySelector("#disp-time"),document.querySelector(".clock")),s=document.querySelector("#city"),a=document.querySelector("#country"),m=document.querySelector("#feels"),y=document.querySelector("#description"),p=document.querySelector("#humidity"),T=document.querySelector("#sun-rise"),x=document.querySelector("#sun-set"),S=document.querySelector("#wind-speed");let g="",q=!1;async function $(t){r.innerText="Loading.....";try{const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=8932ba937e10419d1dd1c3d0900ef449`,{mode:"cors"}),M=await e.json();r.innerText="";const{icon:k}=M.weather[0];n.innerHTML=`<img src="./icons/${k}.png">`,v=M.sys.country,c.innerHTML=`<img src="https://www.countryflags.io/${v}/flat/64.png">`,g=Math.floor(M.main.temp-273),i.innerText=`${g}째`,u.innerText="C",o.innerText="",d.style.display="block",((e,t)=>{s.innerText=`${e}, `,a.innerText=t})(M.name,M.sys.country),q=Math.floor(M.main.feels_like-273),$=M.weather[0].description,h=M.main.humidity,m.innerText=`Feels Like: ${q}째C`,y.innerText=` ${$}`,p.innerText=` Humidity: ${h}%`,f=M.coord.lon,w=M.coord.lat,L=M.wind.speed,T.innerText=`Lon: ${f}`,x.innerText=`Lat: ${w}`,S.innerText=`Wind Speed: ${L}M/s`,setInterval((()=>{(()=>{const e=new Date,t=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`;l.innerText=`Local Time: ${t}`})()}),500)}catch(t){""===e.value&&(o.innerText="Nothing to display, Enter city name")}var q,$,h,f,w,L,v}document.addEventListener("DOMContentLoaded",(()=>{$("Lagos")})),t.addEventListener("click",(t=>{t.preventDefault(t),$(e.value),e.value=""})),d.addEventListener("click",(e=>{e.preventDefault(e),(()=>{q=!q;const e=i.innerText,t=Number(e.slice(0,e.length-1));if(q){const e=(9*t/5+32).toFixed(2);i.innerText=`${e}째`,u.innerText="F",d.innerText="See temp in C"}else{const e=(5*(t-32)/9).toFixed(2);i.innerText=`${e}째`,u.innerText="C",d.innerText="See temp in F"}})()}))})();